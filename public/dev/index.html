<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SyndiNet</title>
  <link rel="icon" type="image/jpeg" href="/favicon.jpg">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.css" rel="stylesheet" />
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.css@8.2.1/themes/satellite-min.css"
    crossorigin="anonymous">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.11.8/video-js.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@yaireo/tagify@4.35.4/dist/tagify.css" rel="stylesheet">
  <link href="/styles/dev.css" rel="stylesheet">

  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.23.3/dist/algoliasearch-lite.umd.js"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.68.1/dist/instantsearch.production.min.js"
    crossorigin="anonymous"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/typesense-instantsearch-adapter@2/dist/typesense-instantsearch-adapter.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/parsley.js/2.9.2/parsley.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/4.3.0/apexcharts.min.js"
    integrity="sha512-QgLS4OmTNBq9TujITTSh0jrZxZ55CFjs4wjK8NXsBoZb04UYl8wWQJNaS8jRiLq6/c60bEfOj3cPsxadHICNfw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  <script defer crossorigin="anonymous" data-clerk-publishable-key="pk_live_Y2xlcmsuc3luZGluZXQuY29tJA"
    src="https://clerk.syndinet.com/npm/@clerk/clerk-js@5/dist/clerk.browser.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.11.8/video.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.11.8/video.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify@4.35.4/dist/tagify.min.js"></script>

  <!-- APP CODE -->
  <script type="module" src="/js/mainPage.js"></script>
</head>

<body>
  <!-- SEARCH HIT TEMPLATE-->
  <template id="hit-template">
    <div class="row border-0 bg-transparent mb-3 video-hit" data-id="">
      <div class="col-2 text-end edit thumbnail-wrapper">
        <div class="pointer thumbnail-container bg-dark" title="">
          <div class="img-fluid border bg-dark thumbnail-background">
          </div>
          <div class="duration"></div>
        </div>
      </div>
      <div class="col edit">
        <h6 class="title-clamp m-0"></h6>
        <div class="pointer text-muted small text-truncate channel"></div>
        <div class="col-12 text-muted small mt-1">
          Modified: <span class="modified"></span><br>
          <span class="text-secondary small id"></span>
        </div>
      </div>
      <div class="col-1">
        <div class="dropdown">
          <a class="btn btn-link bg-transparent p-0 m-0" href="#" title="More" data-mdb-toggle="dropdown">
            <i class="bx bx-dots-vertical-rounded bx-sm mx-4"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a type="button" class="dropdown-item video-analytics">Analytics</a></li>
            <li><a type="button" class="dropdown-item video-conversions">Conversions</a></li>
            <li><a type="button" class="dropdown-item video-delete">Delete</a></li>
          </ul>
        </div>
      </div>
    </div>
  </template>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg nav-icons bg-white fixed-top shadow-sm">
    <div class="container-fluid">
      <!-- Left section -->
      <div class="d-flex align-items-center ps-5">


        <a class="me-4" href="/dev">
          <img src="/dev/syndinet-sm.jpg" height="40" class="" title="SyndiNet">
        </a>

        <div id="searchbox" style="width:300px;"></div>
      </div>

      <!-- Right section -->
      <div class="d-flex align-items-center pe-5 ms-auto">
        <a class="btn btn-link bg-transparent p-0 m-0 nav-add" role="button" type="button" title="Add a Video"><i
            class="bx bx-plus bx-sm mx-4"></i></a>
        <a class="btn btn-link bg-transparent p-0 m-0 analytics" role="button" type="button" title="Analytics"><i
            class="bx bx-bar-chart bx-sm mx-4"></i></a>
        <a class="btn btn-link bg-transparent p-0 m-0 conversions" button type="button" title="Conversions"><i
            class="bx bx-user-voice bx-sm mx-4"></i></a>

        <div class="dropdown">
          <a class="btn btn-link bg-transparent p-0 m-0" href="#" title="More" data-mdb-toggle="dropdown"
            aria-expanded="false">
            <i class="bx bx-dots-vertical-rounded bx-sm mx-4"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a type="button" class="dropdown-item billing">Billing</a></li>
            <li><a type="button" class="dropdown-item profile">Profile</a></li>
            <li><a type="button" class="dropdown-item help">Help</a></li>
            <li><a type="button" class="dropdown-item logout">Sign Out</a></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- SEARCH FILTERS -->
  <div class="hits-content container-fluid p-4 mb-5 ">
    <div class="row">
      <div class="col-2">
        <h5 class="btn btn-link btn-sm disabled text-dark mt-4 mb-0">Format</h5>
        <div id="format-filter" class="ps-2"></div>

        <h5 class="btn btn-link btn-sm disabled text-dark mt-4 mb-0">Type</h5>
        <div id="type-filter" class="ps-2"></div>

        <h5 class="btn btn-link btn-sm disabled text-dark mt-4 mb-0">Company</h5>
        <div id="channel-filter" class="ps-2"></div>

        <h5 class="btn btn-link btn-sm disabled text-dark mt-4 mb-0">Duration</h5>
        <div id="duration-filter" class="ps-2"></div>

        <h5 class="btn btn-link btn-sm disabled text-dark mt-4 mb-0">Date Added</h5>
        <div id="created-filter" class="ps-2 mb-5"></div>
        <div class="p-5 m-5"></div>
        <div id="refinements" style="display:none;"></div>
      </div>
      <div class="col p-0">
        <div id="hits" class=""></div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="small m-0 p-0 text-center small text-muted">
    &copy; <span id="year"></span> SyndiNet. All rights reserved. &bull;
    <a href="terms.html" target="_window">Terms of Service</a> &bull;
    <a href="privacy.html" target="_window">Privacy Policy</a>

    <script>
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>
  </footer>


  <!-- videoModal -->
  <div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="videoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title d-flex align-items-center">
            <i class="bx bx-tv bx-md lead me-2"></i>
            <span class="modal-video-title">Metadata</span>
          </h5>
          <button type="button" class="btn-close" data-mdb-ripple-init data-mdb-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="modal-body px-5 py-4">
          <div class="row">
            <div class="col-9 small pe-2 pb-4">
              <div class="mb-3">
                <video id="player" controls preload="auto" data-setup="{}"
                  class="video-js vjs-default-skin vjs-big-play-centered vjs-16-9 bg-dark w-100 border"></video>
              </div>

              <!-- MODAL FORM -->
              <form id="vod" data-parsley-validate
                data-parsley-excluded="input[type=button], input[type=submit], input[type=reset]">
                <input type="hidden" name="id" id="id" required />

                <!-- FIELD - TITLE -->
                <div class="mb-3">
                  <label for="title">
                    Title
                    <i class='bx bx-info-circle'
                      title="Enter a title that clearly identifies the content (max 100 chars)."></i>
                  </label>
                  <input id="title" type="text" name="title" required maxlength="100"
                    class="form-control text-trim border validate" data-parsley-required-message="Title is required." />
                </div>

                <!-- FIELD - TYPE -->
                <div class="mb-3">
                  <label for="type">
                    Type
                    <i class='bx bx-info-circle' title="Choose the type of content."></i>
                  </label>
                  <input id="type" name="type" required class="form-control border validate"
                    data-parsley-required-message="Please select a content type." />
                </div>

                <!-- FIELD - AUDIENCE -->
                <div class="mb-3">
                  <label for="audience">
                    Audience
                    <i class='bx bx-info-circle' title="Choose the key target audience(s) for the content."></i>
                  </label>
                  <input id="audience" name="audience" required class="form-control border validate"
                    data-parsley-required-message="Please select at least one audience." />
                </div>

                <!-- FIELD - DESCRIPTION -->
                <div class="mb-3">
                  <label for="description">
                    Description
                    <i class='bx bx-info-circle'
                      title="Provide a concise summary that describes the content, key takeaways, and any prerequisites."></i>
                  </label>
                  <textarea id="description" name="description" rows="6" required maxlength="500"
                    class="form-control border text-trim validate"
                    data-parsley-required-message="Description is required.">
                  </textarea>
                </div>

                <!-- FIELD - COMPANY -->
                <div class="mb-3">
                  <label for="channel">Company</label>
                  <input id="channel" name="channel" required class="form-control border validate"
                    data-parsley-required-message="Please enter at least one company." />
                </div>

                <!-- FIELD - PEOPLE -->
                <div class="mb-3">
                  <label for="people">People</label>
                  <input id="people" name="people" class="form-control border validate" />
                </div>

                <!-- FIELD - TOPIC -->
                <div class="mb-3">
                  <label for="topic">Topic</label>
                  <input id="topic" name="topic" class="form-control border validate" />
                </div>

                <!-- FIELD - KEYWORDS -->
                <div class="mb-3">
                  <label for="tags">
                    Keywords
                    <i class='bx bx-info-circle'
                      title="Provide a list of important keywords and tags to help search and recommendations."></i>
                  </label>
                  <input id="tags" type="text" name="tags" required maxlength="100"
                    data-parsley-required-message="Please enter at least one keyword."
                    class="form-control border validate" />
                </div>

                <!-- FIELD - CPV, BUDGET -->
                <div class="performance-fields">
                  <!-- <div class="mb-3">
                    <input type="hidden" id="gated" name="gated" value="1" />
                    <label for="gated" class="form-label">Gated</label>
                    <i class='bx bx-info-circle ms-1'
                      title="Gate content by requiring viewers to share contact information."></i>
                    <select id="gated" name="gated" class="form-select border validate">
                      <option value="0">No</option>
                      <option value="1" selected>Yes</option>
                    </select>
                  </div> -->
                  <div class="mb-3">
                    <label for="cpv" class="">CPV Bid
                      <i class='bx bx-help-circle'
                        title="Set a minimum cost-per-view (CPV) bid of $0.05 to amplify your video's reach"></i>
                    </label>
                    <input type="number" id="cpv" name="cpv" value="0.05" step="0.01" min="0.05"
                      class="form-control bg-white border validate" />
                  </div>
                  <div class="mb-3">
                    <label for="budget" class="">Daily Spend Limit
                      <i class='bx bx-help-circle'
                        title="Set a daily spending limit that covers at least 10 views per day or $1.00, whichever is higher. Once your budget is reached, your campaign will pause and automatically resume the following day.">
                      </i>
                    </label>
                    <input type="number" id="budget" name="budget" value="1" step="1"
                      class="form-control bg-white border validate" />
                    <i>
                      Your daily spending limit does not include the streaming costs of $1.00 per viewer hour, which are
                      billed separately.
                    </i>
                  </div>
                </div>

                <!-- <div class="form-check mb-3">
                  <input class="form-check-input" type="checkbox" value="" id="performance" />
                  <label class="form-check-label" for="performance">Gated content and ad-free performance
                    marketing</label>
                </div> -->

                <input type="hidden" id="thumbnail-input" name="thumbnail" required data-parsley-required="true"
                  data-parsley-required-message="Thumbnail is required" />

                <div class="d-flex align-items-center">
                  <!-- SUBMIT BUTTON -->
                  <button id="publish" data-active="1" type="button"
                    class="btn btn-dark shadow-none ms-0 me-4 px-4">Publish</button>
                  <div id="publish-errors" class="parsley-errors-list filled small text-danger ms-2"></div>
                </div>
              </form>
            </div>

            <!-- THUMBNAIL -->
            <div class="col-3 pe-0">
              <div class="small pb-3">
                <div class="image-container">
                  <div id="thumbnail" class="img-fluid w-100 border bg-dark edit-modal-thumbnail" title="Thumbnail">
                  </div>
                </div>

                <canvas id="thumbnail-canvas" style="display:none;"></canvas>
                <button type="button" id="generate-thumbnail" data-optimizer="" data-uid="" data-id=""
                  class="btn btn-dark mb-3 shadow-none w-100 mt-3" disabled>
                  GENERATE THUMBNAIL
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- billingModal -->
  <div class="modal fade" id="billingModal" tabindex="-1" aria-labelledby="billingModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Billing</h5>
          <button type="button" class="btn-close" data-mdb-ripple-init data-mdb-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="modal-body">...</div>
      </div>
    </div>
  </div>

  <!-- helpModal -->
  <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Help</h5>
          <button type="button" class="btn-close" data-mdb-ripple-init data-mdb-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="modal-body">...</div>
      </div>
    </div>
  </div>

  <!-- VIDEO DELETION MODAL -->
  <div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Confirm Deletion</h5>
          <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete the video "<span id="videoTitleToDelete"></span>"?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
        </div>
      </div>
    </div>
  </div>


  <!-- ANALYTICS MODAL -->
  <div class="modal fade" id="analytics-modal" tabindex="-1" aria-labelledby="analyticsModalLabel" aria-hidden="true"
    title="Analytics">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title d-flex align-items-center">
            <i class="bx bx-bar-chart bx-md lead me-2"></i>
            <span class="modal-analytics-title">Analytics</span>
            <span class="video-title"></span>
          </h5>

          <div class="ms-auto d-flex align-items-center gap-2">
            <button type="button" class="btn-close" data-mdb-ripple-init data-mdb-dismiss="modal"
              aria-label="Close"></button>
          </div>
        </div>

        <div class="modal-body bg-white p-3">

        </div>
      </div>
    </div>
  </div>


  <!-- CONVERSIONS MODAL -->
  <div class="modal fade" id="conversions-modal" tabindex="-1" aria-labelledby="conversionsModalLabel"
    aria-hidden="true" title="Conversions">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title d-flex align-items-center">
            <i class="bx bx-user-voice bx-md lead me-2"></i>
            <span class="modal-conversions-title">Conversions </span>
            <span class="video-title"></span>
          </h5>

          <div class="ms-auto d-flex align-items-center gap-2">
            <button type="button" id="export-conversions" class="btn btn-link" title="Export as CSV">
              Download
            </button>
            <button type="button" class="btn-close" data-mdb-ripple-init data-mdb-dismiss="modal"
              aria-label="Close"></button>
          </div>
        </div>

        <div class="modal-body" style="background-color: #EFF3F6;">

        </div>

      </div>
    </div>
  </div>

  <script>
    // help
    $(document).on("click", ".help", function () {
      const data = $(this).data()

      //$("#videoModal .modal-title").text( decodeURIComponent(data.title)  );
      const modal = new mdb.Modal(document.getElementById("helpModal"))
      modal.show()
    })
  </script>
</body>

</html>